<!DOCTYPE html>
<html lang="es">

<head>
    <meta http-equiv="content-type" content="text/html" charset="utf-8">
    <!-- css -->
    <link rel="stylesheet" href="css/reset.css" type="text/css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/layout.css" type="text/css" media="screen">
    <!-- javascript libs-->
    <script type="text/javascript" src="js/lib/jquery-1.8.2.min.js"></script>
    <script type="text/javascript" src="js/lib/jquery-ui-1.8.24.custom.min.js"></script>
    <script type="text/javascript" src="js/lib/jquery.pajinate.js"></script>
    <script type="text/javascript" src="js/lib/underscore.js"></script>
    <script type="text/javascript" src="js/lib/knockout-2.1.0.js"></script>
    <script type="text/javascript" src="js/lib/knockout.mapping.js"></script>
    <script type="text/javascript" src="js/lib/sammy-latest.min.js" ></script>
    <!-- javascript custom-->
    <script type="text/javascript" src="js/dictionary.js" ></script>
    <script type="text/javascript" src="js/mvvm.js"></script>
    <script type="text/javascript" src="js/dragDrop.js"></script>
    <script type="text/javascript" src="js/pagination.js"></script>

    <link rel="icon" href="images/favicon.ico" type="image/x-icon"> 
    
	<title>Episteme</title>

</head>

<body>
    <div id="container">
        <div id="header">
	    <div id = "logo">
		<a href="#/main">
                <img class="epistemeLogo" src="images/episteme_logo.png" />
            </a>
		<br class="clear" />
            </div>

	    <div  id = "menuBar" data-bind="visible: page() < 3">
	        <div  class = "menuBarItem" data-bind="css: { selected: page() == 0 }">
		  <div class = "menuItemText "><a href="#/main"><span data-bind="text: lang().m1"></span></a></div>
		  <div class = "menuItemArrow"></div>
		</div>
		<div  class = "menuBarItem" data-bind="css: { inactive: status() < 1, selected: page() == 1 }">
		  <div class = "menuItemText"><a href="#/composer"><span data-bind="text: lang().m2"></span></a></div>
		  <div class = "menuItemArrow"></div>
		</div>
		<div  class = "menuBarItem" data-bind="css: { inactive: status() < 2,  selected: page() == 2 }">
		  <div class = "menuItemText"><a href="#/finalize"><span data-bind="text: lang().m3"></span></a></div>
		  <div class = "menuItemArrow"></div>
		</div>
	    </div>
	    <div  id = "langBar" data-bind="visible: page() < 3">
	        <a href="#" data-bind="click: changeLanguage.bind($data,'0')">
			<img class="flag" src="images/spanish.png" data-bind="css: { flagSelected: lang().lang == 'Spanish' }"/>		
		</a>
	        <a href="#" data-bind="click: changeLanguage.bind($data,'1')">
			<img class="flag" src="images/english.png" data-bind="css: { flagSelected: lang().lang == 'English' }"/>
		</a>
	    </div>
        </div>

<div id="main" class="mainContainer" data-bind="visible: page() < 3">

<div class="dropContainer" data-bind="css: { offerContainer: page() == 0 }" >

        <div  class="droppable offer" class="class1" data-bind="visible: page() >= 0">
   	 <div class ="droppableText"> <span data-bind="text: lang().d1"></span> </div>
	</div>
	<h2 class="to" data-bind="visible: page() > 0">â†’</h2>
	<div  class="droppable" class="class2" data-bind="visible: page() > 0 ">
   	 <div class ="droppableText"> <span data-bind="text: lang().d2"></span> </div>
	</div>
	<div  class="droppable" class="class2" data-bind="visible: page() > 0">
   	 <div class ="droppableText"> <span data-bind="text: lang().d2"></span> </div>
	</div>

</div>



<div class="controlContainer" data-bind="visible: page() < 2">
    <a class="button">Barcelona</a>
    <a class="button">Madrid</a>
    <span data-bind="text: lang().b1"></span> <input id="search" data-bind="value: filter, hasfocus: focusBar, valueUpdate: 'afterkeydown'" />
    <input type="radio" name="filterGroup" value="name" data-bind="click: setFocusBar, checked: filterType" /> <span data-bind="text: lang().b2"></span>
    <input type="radio" name="filterGroup" value="province" data-bind=" click: setFocusBar, checked: filterType" /> <span data-bind="text: lang().b3"></span>
</div>


<div id="dragContainer" class="dragContainer" data-bind="visible: page() < 2">

	<div data-bind="foreach: filteredData" class="content" >
        <div class="draggable">
	    <div class="logoContainer">
	    <img class="defaultLogo" src="images/default.png" data-bind="attr: { 'src': $data.logo.value } " />
	    </div>
	    <div class="textContainer">
            <p class="draggableText" data-bind="text: $data.name.value"></p>
	    </div>
        </div>

    </div>	
	<a href="#/wizard" data-bind="visible: filteredData().length > 0">
	<div id="new_offer_entry" class="add-arrow" data-bind="visible: page() < 1"></div>
	</a>
	  <div class="page_navigation" data-bind="visible: filteredData().length > 0"></div>
	  <div class="message" data-bind="visible: filteredData().length < 1">
		<div class="med">
			<p>
			<span data-bind="text: lang().h1"></span>
			<b><span data-bind="text: filter"></span></b>
			<span data-bind="text: lang().h2"></span>
			</p><br>
			<p><span data-bind="text: lang().h3"></span></p><br>
			<ul>
				<li><span data-bind="text: lang().h4"></span></li>
				<li><span data-bind="text: lang().h5"></span></li>
				<li><span data-bind="text: lang().h6"></span></li>
			</ul>
		</div>
	</div>
	
</div>	

<div data-bind="autoPaginate: filteredData"></div>

</div>




        <div id="footer">
            <p><span data-bind="text: lang().c1"></span></p>
		<a href="http://gsi.dit.upm.es/" target="_blank">
		<img class="gsiLogo" src="images/gsi_logo_gray.png" />
		</a>
		<a href="http://www.globalmetanoia.com/" target="_blank">
		<img class="globalLogo" src="images/GlobalMetanoia_logo_gray.png" />
		</a>
        </div>

    </div>

</body>

</html>





